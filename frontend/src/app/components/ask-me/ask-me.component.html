<ion-content>
  @for(post of posts; track post.id) {
    <ion-card [color]="post.user.color">
      <ion-card-header>
        <div>
          <ion-card-subtitle>{{ post.user.name }}, {{ post.user.location }}</ion-card-subtitle>
          <ion-card-title>{{ post.user.job }}</ion-card-title>
        </div>
        <div class="div-card-avatar">
          <ion-avatar>
            <img alt="Silhouette of a person's head" src="https://ionicframework.com/docs/img/demos/avatar.svg" />
          </ion-avatar>
        </div>
      </ion-card-header>
      <ion-card-content>
        {{ post.user.description }}
        <div class="div-achievements">
          @for(achievement of post.user.achievements; track achievement.id) {
            <ion-button size="small" color="dark" [id]="'u' + post.user.id + 'a' + achievement.id">
              <ion-icon slot="icon-only" [name]="achievement.icon"></ion-icon>
            </ion-button>
            <ion-popover [trigger]="'u' + post.user.id + 'a' + achievement.id" triggerAction="click">
              <ng-template>
                <span class="ion-padding span-achievement-tooltip">{{ achievement.name }}</span>
              </ng-template>
            </ion-popover>
          }
        </div>
      </ion-card-content>

    </ion-card>
  }
</ion-content>

<!-- <ion-content>
  @for(post of posts; track post.id) {
    <ion-card [color]="post.color" (click)="navigateToPost(post.id)">
      <ion-card-header>
        <div>
          <ion-card-subtitle>Created by {{ post.user.name }}</ion-card-subtitle>
          <ion-card-title>{{post.title}}</ion-card-title>
        </div>
        <div class="div-card-avatar">
          <ion-avatar>
            <img alt="Silhouette of a person's head" src="https://ionicframework.com/docs/img/demos/avatar.svg" />
          </ion-avatar>
        </div>
      </ion-card-header>
      <ion-card-content>
        {{ post.preview }}
  
        <div class="div-categories">
          @for(category of post.categories; track category) {
            <ion-chip [color]="post.color" >{{ category.label }}</ion-chip>
          }
        </div>
      </ion-card-content>
    </ion-card>
  }
</ion-content> -->